# 3.3.4 PCB (process control block)

프로세스 메타데이터가 저장되어있으며 `프로세스 제어 블럭`이라고 한다.

운영체제에 의해 관리되며, 다수의 프로세스를 지원하고 다중 처리를 제공할 수 있도록 하는 중요한 자료구조이다.

### | PCB의 구조

프로세스 스케쥴링 상태, 프로세스 ID 등의 정보로 이루어져 있다.

| 구분              | 정보                                                                             |
| ----------------- | -------------------------------------------------------------------------------- |
| 프로세스 식별     | 식별자                                                                           |
| 처리기 상태정보   | CPU 레지스터                                                                     |
| 프로세스 제어정보 | 스케쥴링과 상태정보, 자료구조화, 프로세스 간 통신, 프로세스 권한, 메모리 관리 등 |

<br />

### | 컨택스트 스위칭(Context switching)

PCB를 교환하는 과정,

즉 하나의 프로세스가 CPU를 사용중인 상태에서 다른 프로세스가 CPU를 사용하도록 하기 위해 이전 프로세스의 상태를 보관하고 새로운 프로세스의 상태를 적재하는 작업이다.

> (싱글코어 기준) 사실 컴퓨터는 많은 프로그램을 동시에 실행하고 있는 것이 아니라, 특정 시점에서 실행되고 있는 프로세스는 단 한개이다.  
> 많은 프로세스가 동시에 구동되는 것처럼 보이는 이유는 다른 프로세스와의 컨텍스트 스위칭이 매우 빠른 속도로 이루어지기 때문이다.

<b> _캐시미스에 의한 오버헤드 발생_ </b>

캐시에는 현재 수행중인 프로세스의 데이터가 저장되어 있다.

컨텍스트 스위칭이 발생하면 현재 캐시에 저장되어 있는 정보가 쓸모없어지기 때문에 캐시를 비운다.

즉 컨텍스트 스위칭 직후 캐시가 비어있으므로, 메모리 접근(메모리에서 데이터 찾고 &rarr; 캐시로 데이터 올리고 &rarr; CPU로 가져오고) 횟수가 증가하게 된다.

<b> _스레드에서의 컨텍스트 스위칭_ </b>

스레드는 스택 영역을 제외한 모든 메모리를 공유하기 때문에 비용이 적고 빠르다.
